# Performance and preemption
CONFIG_PREEMPT=y
CONFIG_PREEMPT_DYNAMIC=y
CONFIG_HZ_1000=y
CONFIG_NO_HZ_FULL=n

# IO scheduler BFQ
CONFIG_IOSCHED_BFQ=y
CONFIG_BFQ_GROUP_IOSCHED=y

# Cgroups & namespaces
CONFIG_CGROUPS=y
CONFIG_CGROUP_BPF=y
CONFIG_CGROUP_FREEZER=y
CONFIG_CGROUP_CPUACCT=y
CONFIG_CGROUP_DEVICE=y
CONFIG_CGROUP_SCHED=y
CONFIG_CGROUP_PIDS=y
CONFIG_CGROUP_RDMA=y
CONFIG_MEMCG=y
CONFIG_BLK_CGROUP=y
CONFIG_NAMESPACES=y
CONFIG_USER_NS=y
CONFIG_PID_NS=y
CONFIG_NET_NS=y
CONFIG_UTS_NS=y
CONFIG_IPC_NS=y

# Containers & overlayfs
CONFIG_OVERLAY_FS=y
CONFIG_VETH=y
CONFIG_BRIDGE=y
CONFIG_BRIDGE_VLAN_FILTERING=y

# Filesystems
CONFIG_BTRFS_FS=y
CONFIG_BTRFS_FS_POSIX_ACL=y
CONFIG_XFS_FS=y
CONFIG_F2FS_FS=y
CONFIG_EXT4_FS=y
CONFIG_EXFAT_FS=y
CONFIG_NTFS3_FS=y
CONFIG_FUSE_FS=y
CONFIG_CIFS=y
CONFIG_NFS_FS=y

# Compression / zram/zswap
CONFIG_ZSWAP=y
CONFIG_ZBUD=y
CONFIG_ZSMALLOC=y
CONFIG_ZRAM=m
CONFIG_CRYPTO_LZ4=y
CONFIG_CRYPTO_ZSTD=y
CONFIG_CRYPTO_LZO=y

# Networking
CONFIG_WIREGUARD=y
CONFIG_NETFILTER=y
CONFIG_NFTABLES=y
CONFIG_NET_SCH_FQ_CODEL=y

# KVM virtualization
CONFIG_KVM=y
CONFIG_KVM_INTEL=m
CONFIG_KVM_AMD=m
CONFIG_VFIO=y
CONFIG_VFIO_PCI=y
CONFIG_VIRTIO_PCI=y
CONFIG_VIRTIO_NET=y
CONFIG_VIRTIO_BLK=y
CONFIG_VIRTIO_GPU=y

# GPU drivers
CONFIG_DRM=y
CONFIG_DRM_I915=m
CONFIG_DRM_AMDGPU=m
CONFIG_DRM_NOUVEAU=m
CONFIG_DRM_VKMS=m

# Sound
CONFIG_SND_HDA_INTEL=m
CONFIG_SND_USB_AUDIO=m

# Input
CONFIG_HID_MULTITOUCH=m

# Storage / NVMe
CONFIG_BLK_DEV_NVME=y
CONFIG_NVME_MULTIPATH=y

# Security
CONFIG_BPF_JIT=y
CONFIG_BPF_LSM=y
CONFIG_BPF_PRELOAD=y
CONFIG_LSM="landlock,lockdown,yama,integrity,apparmor,bpf"
CONFIG_SECURITY_APPARMOR=y


